% Include configuration (loading packages, defining the style of the document...)
\usepackage[utf8]{inputenc}

\usepackage[a4paper]{config/first-page-udg}

% Encoding and internationalization
\usepackage[T1]{fontenc}
\usepackage{aecompl}
%\usepackage[french]{babel} % Comment this line if the document is written in english
\usepackage[american]{babel} % [american] UNComment this line if the document is written in english

% Math packages
\usepackage{amsmath,amssymb}
\usepackage{mathrsfs}
\usepackage{amsthm}
\usepackage{a4wide}
\renewcommand{\baselinestretch}{1.05}

% Mini table of content and acronyms
\usepackage[nottoc, notlof, notlot]{tocbibind}
%\usepackage[french]{minitoc}
\usepackage[american]{minitoc}
\setcounter{minitocdepth}{2}
\mtcindent=15pt
\setlength{\parskip}{10pt}

\let\minitocORIG\minitoc
\renewcommand{\minitoc}{\minitocORIG \vspace{1.5em}}

\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{2}

% Graphics and hyperlinks
\usepackage{ifpdf}
\ifpdf
  \usepackage[pdftex]{graphicx}
  \DeclareGraphicsExtensions{.jpg,.pdf,.png}
  %\usepackage[a4paper,pagebackref,hyperindex=true]{hyperref}
  \usepackage[a4paper,hyperindex=true]{hyperref}
\else
  \usepackage{graphicx}
  \DeclareGraphicsExtensions{.ps,.eps}
  %\usepackage[a4paper,dvipdfm,pagebackref,hyperindex=true]{hyperref}
  \usepackage[a4paper,dvipdfm,hyperindex=true]{hyperref}
\fi
\graphicspath{{.}{images/}}
\usepackage{eso-pic}
\usepackage{rotating}
\usepackage[font=normalsize]{subfig}
\usepackage{tikz}
\usetikzlibrary{shapes,arrows}
\usepackage{pgfplots}
\pgfplotsset{compat=newest}
\pgfplotsset{plot coordinates/math parser=false}
\newlength\figureheight
\newlength\figurewidth

\pgfkeys{/pgf/number format/.cd,
set decimal separator={,\!},
1000 sep={\,},
} % Comment this line if the document is written in english

\usetikzlibrary{plotmarks}
\usepackage{pdfpages}

\usepackage[strict]{changepage}
\newcommand\BackgroundPic{
\put(0,0){
\parbox[b][\paperheight]{\paperwidth}{%
\vfill
\centering
\includegraphics[width=0.9\paperwidth,height=1\paperheight,keepaspectratio]{images/background}%
\vfill
}}}

\usepackage{color}
\definecolor{linkcol}{rgb}{0,0,0} 
\definecolor{citecol}{rgb}{0,0,0}

\hypersetup
{
bookmarksopen=true,
pdftitle={Mon sujet de thèse complet},
pdfauthor={Prénom NOM},
pdfsubject={Rapport de thèse},
pdfmenubar=true,
pdfhighlight=/O,
colorlinks=true,
pdfpagemode=None,
pdfpagelayout=SinglePage,
pdffitwindow=true,
linkcolor=linkcol,
citecolor=citecol,
urlcolor=linkcol
}



% Headers and footers
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyfoot{}
\fancyhead[LE,RO]{\bfseries\thepage}
\fancyhead[RE]{\bfseries\nouppercase{\leftmark}}
\fancyhead[LO]{\bfseries\nouppercase{\rightmark}}

\let\headruleORIG\headrule
\renewcommand{\headrule}{\color{black} \headruleORIG}
\renewcommand{\headrulewidth}{1.0pt}
\usepackage{colortbl}
\arrayrulecolor{black}

\fancypagestyle{plain}{
  \fancyhead{}
  \fancyfoot[C]{\thepage}
  \renewcommand{\headrulewidth}{0pt}
}

\usepackage[footnote]{acronym}

% References formatting
% Bibtex
% \renewcommand*{\backref}[1]{}
% \renewcommand*{\backrefalt}[4]{%
% \ifcase #1 %
% (Non cité.)%
% \or
% (Cité en page~#2.)%
% \else
% (Cité en pages~#2.)%
% \fi}
% \renewcommand*{\backrefsep}{, }
% \renewcommand*{\backreftwosep}{ et~}
% \renewcommand*{\backreflastsep}{ et~}

% BibLatex
\usepackage[style=alphabetic-verb,backend=bibtex,isbn=false,doi=false,backref=true,url=false,maxbibnames=99]{biblatex} %********************  ,abstract=false,issn=false
\addbibresource{references.bib} %****************** references - Copy

% Pages succession
\makeatletter
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else%
  \hbox{}%
  \thispagestyle{empty}%
  \newpage%
  \if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother

\newenvironment{vcenterpage}
{\newpage\vspace*{\fill}\thispagestyle{empty}\renewcommand{\headrulewidth}{0pt}}
{\vspace*{\fill}}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../roque-phdthesis"
%%% End: 
%-----------------------------------------------------------
% Packages
\usepackage{amssymb} % for \mathbb \mathcal
\usepackage{amsmath} % for cases, *, \lvert\rvert
\usepackage{amsthm} % for dot punctuation
\usepackage{bm} % for \boldsymbol
\usepackage{adjustbox} % for adjustbox
\usepackage{booktabs} % for \toprule
\usepackage{resizegather} % for gather
\usepackage{xcolor} % for \hl
\usepackage{bookmark} 
%\usepackage[numbers,sort&compress,square]{natbib} % for \citep
\usepackage[none]{hyphenat} % Prevents hyphenating in the entire document
\usepackage{tcolorbox} % Colored framed box
\usepackage{placeins} % \FloatBarrier
\usepackage[bottom]{footmisc} % Prevent the insertion of figure after the footnote
\usepackage{framed} % For frame
\usepackage{tabularx} % Evenly distributing column widths of table
%\usepackage{mathtools} % xRightarrow
\usepackage{extarrows} % xRightarrow
\usepackage{soul} % \hl
\usepackage{textcomp}
\usepackage{empheq}
\usepackage{hyperref}
\usepackage{pdfpages}
%-----------------------------------------------------------
% New Commands
\newcommand\mynorm[1]{\left\lVert#1\right\rVert}
\newcommand\myabs[1]{\left\lvert#1\right\rvert}
\newcommand\myparanthese[1]{\left( #1 \right)}
\newcommand\mybracket[1]{\left[ #1 \right]}
\newcommand\mybrace[1]{\left\lbrace #1 \right\rbrace} 
\newcommand\myeq{\mathrel{\stackrel{\makebox[0pt]{\mbox{\normalfont\tiny def}}}{=}}}
\newcommand{\overbar}[1]{\mkern 1.5mu\overline{\mkern-1.5mu#1\mkern-1.5mu}\mkern 1.5mu}
\newcommand\mybeta{\boldsymbol{\beta}} 
\newcommand\mybetaz{\boldsymbol{\beta_0}}
\newcommand\mybetao{\boldsymbol{\beta_1}}
\newcommand\mybetaTwo{\boldsymbol{\beta_2}}
\newcommand\myPhi{\boldsymbol{\Phi}}
\newcommand\myPhiOne{\myPhi_{\boldsymbol{1}}}
\newcommand\myPhiTwo{\myPhi_{\boldsymbol{2}}}
\newcommand\myphi{\boldsymbol{\varphi}}
\newcommand\myRnkMath{Rank(\myPhi)} 
\newcommand\myRnkTxt{\mathrm{Rank}}
\newcommand\mySpk{Spark} 
\newcommand\mySpkMath{Spark(\myPhi)} 
\newcommand\mySpkTxt{\mathrm{Spark}}
\newcommand\myBSpk{Block{-}Spark} 
\newcommand\myBSpkMath{\myBSpk(\myPhi)} 
\newcommand\myBSpkTxt{\mathrm{Block\text{{-}}Spark}}
\newcommand\mySL{SL}
\newcommand\mySLMath{\mySL(\myPhi)} 
\newcommand\mySLTxt{\mathrm{\mySL}}
\newcommand\mySLqpMath{\mySL_{q,p}(\myPhi)} 
\newcommand\mySLqpTxt{\mathrm{\mySL}_{q,p}}
\newcommand\myBSL{Block{-}SL}   
\newcommand\myBSLMath{\myBSL(\myPhi)}  
\newcommand\myBSLqpMath{\myBSL_{q,p}(\myPhi)}
\newcommand\myBSLTxt{\mathrm{Block\text{{-}}\mySL}}
\newcommand\myBSLqpTxt{\mathrm{Block\text{{-}}\mySL}_{q,p}}           
%\newcommand\myCspk{\mathrm{cluster{-}spark}}
%\newcommand\myKer{Spark} 
\newcommand\myKerMath{Ker(\myPhi)} 
\newcommand\myKerTxt{\mathrm{Kernel}}
\newcommand\myBKer{Block{-}Ker} 
\newcommand\myBKerMath{\myBKer(\myPhi)} 
\newcommand\myBKerTxt{\mathrm{Block\text{{-}}Kernel}}
%\newcommand\myKer{\mathrm{ker}}
%\newcommand\myBker{\mathrm{block{-}ker}}
%\newcommand\myCker{\mathrm{cluster{-}ker}}
\newcommand\mySuppTxt{\mathrm{Support}}
\newcommand\myBSuppTxt{\mathrm{Block\text{{-}}Support}}
\newcommand\myCardTxt{\mathrm{Cardinality}}
\newcommand\myBCardTxt{\mathrm{Block\text{{-}}Cardinality}}
\newcommand{\stimes}{{\times}}
\newcommand{\sm}{{-}}
\newcommand{\spl}{{+}}
\newcommand{\ssin}{{\in}}
\newcommand{\sless}{{<}}
\newcommand{\sgeq}{{\geq}}
\newcommand{\sleq}{{\leq}}
\newcommand{\sg}{{>}}
\newcommand{\seq}{{=}} 
\newcommand{\sneq}{{\neq}}
\newcommand{\ssubset}{{\subset}}
\newcolumntype{Y}{>{\centering\arraybackslash}X} % Evenly distributing column widths of table
\newcommand{\myhl}[1]{#1} %{#1 , \hl{#1}}
\newcommand{\mycolor}[1]{#1} %{#1 , {\color{red}{#1}}}
%-----------------------------------------------------------
\def\bibfont{\footnotesize}
%-----------------------------------------------------------
% New Theorems
\newtheoremstyle{mydef}%
{}{}%
{}{}%
{\bfseries}{.}%
{.5em}%
{\thmname{#1}\thmnumber{ #2}\thmnote{ (#3)}}
\theoremstyle{mydef}
\renewenvironment{leftbar}[1][5pt]
{%
    \def\FrameCommand
    {%
        {\color{gray} \vrule width #1}% 
        \hspace{5pt}%must no space.
        \fboxsep=\FrameSep%\colorbox{yellow}
    }%
    %\MakeFramed{\hsize#1\advance\hsize-\width\FrameRestore}%
    \MakeFramed{\hsize\linewidth\advance\hsize-\width\FrameRestore}%
}
{\endMakeFramed}
\newtheorem{Mydefinition}{\bf Definition}[chapter]
\newtheorem{lemma}{\bf Lemma}[chapter]
\newtheorem{theorem}{\bf Theorem}[chapter]
\newtheorem{corollary}{\bf Corollary}[chapter]
\newtheorem{remark}{\bf Remark}[chapter]
\newtheorem{proposition}{\bf Proposition}[chapter]
\newtheorem{property}{\bf Property}[chapter]
\newtheorem{challenge}{\bf Challenge}
\newcounter{qcounter} % For list environment
\newtheorem{Mycomment}{\bf Comment \color{blue}}
\newtheorem{Mycomment2}{\bf Comment \color{blue}}
%-----------------------------------------------------------
\iffalse
\newenvironment{rcases}
  {\left.\begin{aligned}}
  {\end{aligned}\right\rbrace}
  \fi
  
  \newenvironment{lcases}
  {\left\lbrace\begin{aligned}}
  {\end{aligned}\right.}